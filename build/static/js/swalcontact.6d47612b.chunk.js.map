{"version":3,"sources":["functions/wpcf7.js","components/popups/swal-contact.js"],"names":["WPCF7","apiUrl","setApiUrl","url","this","getApiUrl","getRoute","path","replace","getFormId","form","formEl","document","getElementById","formId","getAttribute","split","pop","parseInt","sendMail","_sendMail","Object","asyncToGenerator","regenerator_default","a","mark","_callee","formData","response","wrap","_context","prev","next","FormData","fetch","method","body","then","json","sent","abrupt","stop","_x","apply","arguments","SwalContact","renderModal","swal","title","html","footer","focusConfirm","customClass","confirmButtonText","showLoaderOnConfirm","showCloseButton","onClose","window","location","hash","width","preConfirm","fields","forms","getElementsByClassName","email","value","validateFields","showValidationMessage","validateEmail","result","status","text","message","type","allowOutsideClick","isLoading","dismiss","showConfirmButton","allowEscapeKey"],"mappings":"+IA2CeA,EA3CD,CACbC,OAAQ,iEAERC,UAAW,SAAUC,GACpBC,KAAKH,OAASE,GAGfE,UAAW,WACV,OAAOD,KAAKH,QAGbK,SAAU,SAAUC,GACnB,IAEIJ,EAAMC,KAAKC,YAGf,OAFAF,EAAMA,EAAIK,QAHM,wCAGyBD,IAK1CE,UAAW,SAAUC,GACpB,IAAIC,EAASC,SAASC,eAAeH,GACjCI,EAASH,EAAOI,aAAa,oBAAsBJ,EAAOI,aAAa,MAAMC,MAAM,KAAKC,MAC5F,OAAOC,SAASJ,EAAQ,KAGzBK,SAAQ,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAE,SAAAC,EAAgBhB,GAAhB,IAAAC,EAAAgB,EAAAxB,EAAAyB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACLrB,EAASC,SAASC,eAAeH,GACjCiB,EAAW,IAAIM,SAAStB,GAExBR,EAAMC,KAAKE,SAAS,kBAAoBF,KAAKK,UAAUC,GAAQ,aAJ1DoB,EAAAE,KAAA,EAMcE,MAAM/B,EAAK,CACjCgC,OAAQ,OACRC,KAAMT,IACJU,KAAK,SAACT,GACR,OAAOA,EAASU,SAVR,cAMHV,EANGE,EAAAS,KAAAT,EAAAU,OAAA,SAaFZ,GAbE,wBAAAE,EAAAW,SAAAf,EAAAtB,SAAF,gBAAAsC,GAAA,OAAAtB,EAAAuB,MAAAvC,KAAAwC,YAAA,YClBHC,EAAc,CAEhBC,YAAa,WAkET,OAjEcC,IAAK,CACfC,MAAO,6CACPC,KAAI,48BAkBJC,OAAM,uEACNC,cAAc,EACdC,YAAa,eACbC,kBAAmB,eACnBC,qBAAqB,EACrBC,iBAAiB,EACjBC,QAAS,kBAAMC,OAAOC,SAASC,KAAO,IACtCC,MAAO,QACPC,WAAY,WACR,IAAIC,EAASlD,SAASmD,MAAM,gBAAgBC,uBAAuB,YAC/DC,EAAQH,EAAO,cAAcI,MAEjC,OAA+B,IAA3BC,YAAeL,GAA0Bf,IAAKqB,sBAAL,4BAEhB,IAAzBC,YAAcJ,GAAyBlB,IAAKqB,sBAAL,gCAE3CpE,EAAME,UAAU,oEAChBF,EAAMmB,SAAS,WAAWkB,KAAK,SAACiC,GACN,cAAlBA,EAAOC,OACPxB,IAAK,CACDC,MAAK,UACLwB,KAAMF,EAAOG,QACbC,KAAM,YAGV3B,IAAK,CACDC,MAAK,qBACLwB,KAAMF,EAAOG,QACbC,KAAM,gBAKtBC,kBAAmB,kBAAO5B,IAAK6B,eAChCvC,KAAK,SAAAiC,GACAA,EAAOO,SACX9B,IAAK,CACDC,MAAK,kCACL0B,KAAM,OACNI,mBAAmB,EACnBC,gBAAgB,EAChBJ,mBAAmB,QAQpB9B","file":"static/js/swalcontact.6d47612b.chunk.js","sourcesContent":["const WPCF7 = {\r\n\tapiUrl: 'http://working.on/iambican/wordpress/wp-json/contact-form-7/v1',\r\n\r\n\tsetApiUrl: function (url) {\r\n\t\tthis.apiUrl = url;\r\n\t},\r\n\r\n\tgetApiUrl: function () {\r\n\t\treturn this.apiUrl;\r\n\t},\r\n\r\n\tgetRoute: function (path) {\r\n\t\tvar namespace = 'contact-form-7/v1';\r\n\r\n\t\tvar url = this.getApiUrl();\r\n\t\turl = url.replace(namespace, namespace + path);\r\n\r\n\t\treturn url;\r\n\t},\r\n\r\n\tgetFormId: function (form) {\r\n\t\tlet formEl = document.getElementById(form)\r\n\t\tlet formId = formEl.getAttribute('data-wpcf7-form') || formEl.getAttribute('id').split('-').pop()\r\n\t\treturn parseInt(formId, 10);\r\n\t},\r\n\r\n\tsendMail: async function (form) {\r\n\t\tvar formEl = document.getElementById(form);\r\n\t\tvar formData = new FormData(formEl);\r\n\r\n\t\tvar url = this.getRoute('/contact-forms/' + this.getFormId(form) + '/feedback')\r\n\r\n\t\tconst response = await fetch(url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData\r\n\t\t}).then((response) => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\r\n\t\treturn response;\r\n\t}\r\n};\r\n\r\nexport default WPCF7;","// Deps\r\nimport swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport WPCF7 from './../../functions/wpcf7';\r\nimport {\r\n    validateEmail,\r\n    validateFields\r\n} from './../../functions/helpers';\r\n\r\nconst SwalContact = {\r\n\r\n    renderModal: function () {\r\n        const alert = swal({\r\n            title: 'Thanks for your interest in contacting me!',\r\n            html: `<form name=\"swal-contact\" id=\"wpcf7-6\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-name\">\r\n                        <input id=\"swal-input1\" class=\"swal2-input required\" name=\"your-name\" type=\"text\" placeholder=\"Your Name\" required/>\r\n                    </span>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-email\">\r\n                        <input id=\"swal-input2\" class=\"swal2-input required\" name=\"your-email\" type=\"email\" placeholder=\"Your Email\" required/>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <textarea id=\"swal-input3\" class=\"swal2-textarea required\" name=\"your-message\" placeholder=\"Your Message\" required></textarea>\r\n                </div>\r\n            </div></form>`,\r\n            footer: `View your privacy policy &nbsp;<a href=\"/p/privacy-policy\">here</a>.`,\r\n            focusConfirm: false,\r\n            customClass: 'swal-contact',\r\n            confirmButtonText: 'Send Message',\r\n            showLoaderOnConfirm: true,\r\n            showCloseButton: true,\r\n            onClose: () => window.location.hash = '',\r\n            width: '45rem',\r\n            preConfirm: () => {\r\n                var fields = document.forms[\"swal-contact\"].getElementsByClassName(\"required\");\r\n                var email = fields['your-email'].value;\r\n\r\n                if (validateFields(fields) === false) return swal.showValidationMessage(`Please fill all fields.`);\r\n\r\n                if (validateEmail(email) === false) return swal.showValidationMessage(`Email address is not valid.`);\r\n\r\n                WPCF7.setApiUrl('http://www.iambican.com/dashboard/wp-json/contact-form-7/v1');\r\n                WPCF7.sendMail('wpcf7-6').then((result) => {\r\n                    if (result.status === 'mail_sent') {\r\n                        swal({\r\n                            title: `Awesome`,\r\n                            text: result.message,\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        swal({\r\n                            title: `Something is wrong`,\r\n                            text: result.message,\r\n                            type: 'success'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            allowOutsideClick: () => !swal.isLoading()\r\n        }).then(result => {\r\n            if (result.dismiss) return;\r\n            swal({\r\n                title: `Sending message, please wait...`,\r\n                type: 'info',\r\n                showConfirmButton: false,\r\n                allowEscapeKey: false,\r\n                allowOutsideClick: false\r\n            });\r\n        });\r\n\r\n        return alert;\r\n    }\r\n};\r\n\r\nexport default SwalContact;"],"sourceRoot":""}