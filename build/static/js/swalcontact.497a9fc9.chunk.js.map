{"version":3,"sources":["functions/wpcf7.js","components/popups/swal-contact.js"],"names":["WPCF7","el","options","Object","classCallCheck","this","document","querySelector","merge","defaults","apiUrl","path","getApiUrl","replace","id","formId","getAttribute","split","pop","parseInt","formData","FormData","url","getRoute","getFormId","axios","post","data","then","result","SwalContact","renderModal","swal","title","html","footer","focusConfirm","customClass","confirmButtonText","showLoaderOnConfirm","showCloseButton","onClose","window","location","hash","width","preConfirm","fields","forms","getElementsByClassName","email","value","validateFields","showValidationMessage","validateEmail","sendMail","status","text","message","type","allowOutsideClick","isLoading","dismiss","showConfirmButton","allowEscapeKey"],"mappings":"sLAqDeA,aA3Cd,SAAAA,EAAYC,EAAIC,GAAUC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GACzBK,KAAKJ,GAAKK,SAASC,cAAcN,GACjCI,KAAKJ,GAAGD,MAAQK,KAChBA,KAAKH,QAAUM,gBAAM,GAAIR,EAAMS,SAAUP,2DAWzC,OAAOG,KAAKH,QAAQQ,wCAGZC,GAGR,OADUN,KAAKO,YACJC,QAFK,wCAE0BF,uCAI1C,IAAIG,EACHT,KAAKH,QAAQa,QACbV,KAAKJ,GAAGe,aAAa,oBACrBX,KAAKJ,GACHe,aAAa,MACbC,MAAM,KACNC,MACH,OAAOC,SAASL,EAAI,8JAIhBM,EAAW,IAAIC,SAAShB,KAAKJ,IAC7BqB,EAAMjB,KAAKkB,SAAS,kBAAoBlB,KAAKmB,YAAc,sBAClDC,IACXC,KAAKJ,EAAK,CAAEK,KAAMP,IAClBQ,KAAK,SAAAC,GAAM,OAAIA,EAAOF,oLAhCxB,MAAO,CACNjB,OAAQ,iEACRK,OAAQ,qBCdLe,EAAc,CACnBC,YAAa,WAwEZ,OAvEcC,IAAK,CAClBC,MAAO,6CACPC,KAAI,g+BAkBJC,OAAM,uEACNC,cAAc,EACdC,YAAa,eACbC,kBAAmB,eACnBC,qBAAqB,EACrBC,iBAAiB,EACjBC,QAAS,kBAAOC,OAAOC,SAASC,KAAO,IACvCC,MAAO,QACPC,WAAY,WACX,IAAIC,EAASzC,SAAS0C,MAAM,gBAAgBC,uBAC3C,YAEGC,EAAQH,EAAO,cAAcI,MAEjC,OAA+B,IAA3BC,YAAeL,GACXf,IAAKqB,sBAAL,4BAEqB,IAAzBC,YAAcJ,GACVlB,IAAKqB,sBAAL,oCAEK,IAAIrD,EAAM,WAAY,CAClCU,OAAQ,gEAEJ6C,WAAW3B,KAAK,SAAAC,GACE,cAAlBA,EAAO2B,OACVxB,IAAK,CACJC,MAAK,UACLwB,KAAM5B,EAAO6B,QACbC,KAAM,YAGP3B,IAAK,CACJC,MAAK,qBACLwB,KAAM5B,EAAO6B,QACbC,KAAM,aAKVC,kBAAmB,kBAAO5B,IAAK6B,eAC7BjC,KAAK,SAAAC,GACHA,EAAOiC,SACX9B,IAAK,CACJC,MAAK,kCACL0B,KAAM,OACNI,mBAAmB,EACnBC,gBAAgB,EAChBJ,mBAAmB,QAQR9B","file":"static/js/swalcontact.497a9fc9.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { merge } from \"lodash\";\r\n\r\nclass WPCF7 {\r\n\t/**\r\n\t * Construct Animate instance\r\n\t * @constructor\r\n\t * @param {Element} el\r\n\t * @param {Object} options\r\n\t */\r\n\tconstructor(el, options) {\r\n\t\tthis.el = document.querySelector(el);\r\n\t\tthis.el.WPCF7 = this;\r\n\t\tthis.options = merge({}, WPCF7.defaults, options);\r\n\t}\r\n\r\n\tstatic get defaults() {\r\n\t\treturn {\r\n\t\t\tapiUrl: \"http://working.on/iambican/wordpress/wp-json/contact-form-7/v1\",\r\n\t\t\tformId: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tgetApiUrl() {\r\n\t\treturn this.options.apiUrl;\r\n\t}\r\n\r\n\tgetRoute(path) {\r\n\t\tlet namespace = \"contact-form-7/v1\";\r\n\t\tlet url = this.getApiUrl();\r\n\t\treturn url.replace(namespace, namespace + path);\r\n\t}\r\n\r\n\tgetFormId() {\r\n\t\tlet id =\r\n\t\t\tthis.options.formId ||\r\n\t\t\tthis.el.getAttribute(\"data-wpcf7-form\") ||\r\n\t\t\tthis.el\r\n\t\t\t\t.getAttribute(\"id\")\r\n\t\t\t\t.split(\"-\")\r\n\t\t\t\t.pop();\r\n\t\treturn parseInt(id, 10);\r\n\t}\r\n\r\n\tasync sendMail() {\r\n\t\tlet formData = new FormData(this.el);\r\n\t\tlet url = this.getRoute(\"/contact-forms/\" + this.getFormId() + \"/feedback\");\r\n\t\treturn await axios\r\n\t\t\t.post(url, { data: formData })\r\n\t\t\t.then(result => result.data);\r\n\t}\r\n}\r\n\r\nexport default WPCF7;\r\n","// Deps\r\nimport swal from \"sweetalert2/dist/sweetalert2.js\";\r\nimport WPCF7 from \"./../../functions/wpcf7\";\r\nimport { validateEmail, validateFields } from \"./../../functions/helpers\";\r\n\r\nconst SwalContact = {\r\n\trenderModal: function () {\r\n\t\tconst alert = swal({\r\n\t\t\ttitle: \"Thanks for your interest in contacting me!\",\r\n\t\t\thtml: `<form name=\"swal-contact\" id=\"wpcf7-6\" data-wpcf7-form=\"6\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-name\">\r\n                        <input id=\"swal-input1\" class=\"swal2-input required\" name=\"your-name\" type=\"text\" placeholder=\"Your Name\" required/>\r\n                    </span>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-email\">\r\n                        <input id=\"swal-input2\" class=\"swal2-input required\" name=\"your-email\" type=\"email\" placeholder=\"Your Email\" required/>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <textarea id=\"swal-input3\" class=\"swal2-textarea required\" name=\"your-message\" placeholder=\"Your Message\" required></textarea>\r\n                </div>\r\n            </div></form>`,\r\n\t\t\tfooter: `View your privacy policy &nbsp;<a href=\"/p/privacy-policy\">here</a>.`,\r\n\t\t\tfocusConfirm: false,\r\n\t\t\tcustomClass: \"swal-contact\",\r\n\t\t\tconfirmButtonText: \"Send Message\",\r\n\t\t\tshowLoaderOnConfirm: true,\r\n\t\t\tshowCloseButton: true,\r\n\t\t\tonClose: () => (window.location.hash = \"\"),\r\n\t\t\twidth: \"45rem\",\r\n\t\t\tpreConfirm: () => {\r\n\t\t\t\tvar fields = document.forms[\"swal-contact\"].getElementsByClassName(\r\n\t\t\t\t\t\"required\"\r\n\t\t\t\t);\r\n\t\t\t\tvar email = fields[\"your-email\"].value;\r\n\r\n\t\t\t\tif (validateFields(fields) === false)\r\n\t\t\t\t\treturn swal.showValidationMessage(`Please fill all fields.`);\r\n\r\n\t\t\t\tif (validateEmail(email) === false)\r\n\t\t\t\t\treturn swal.showValidationMessage(`Email address is not valid.`);\r\n\r\n\t\t\t\tconst WPCF = new WPCF7(\"#wpcf7-6\", {\r\n\t\t\t\t\tapiUrl: \"http://www.iambican.com/dashboard/wp-json/contact-form-7/v1\"\r\n\t\t\t\t});\r\n\t\t\t\tWPCF.sendMail().then(result => {\r\n\t\t\t\t\tif (result.status === \"mail_sent\") {\r\n\t\t\t\t\t\tswal({\r\n\t\t\t\t\t\t\ttitle: `Awesome`,\r\n\t\t\t\t\t\t\ttext: result.message,\r\n\t\t\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tswal({\r\n\t\t\t\t\t\t\ttitle: `Something is wrong`,\r\n\t\t\t\t\t\t\ttext: result.message,\r\n\t\t\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tallowOutsideClick: () => !swal.isLoading()\r\n\t\t}).then(result => {\r\n\t\t\tif (result.dismiss) return;\r\n\t\t\tswal({\r\n\t\t\t\ttitle: `Sending message, please wait...`,\r\n\t\t\t\ttype: \"info\",\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\tallowEscapeKey: false,\r\n\t\t\t\tallowOutsideClick: false\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn alert;\r\n\t}\r\n};\r\n\r\nexport default SwalContact;\r\n"],"sourceRoot":""}