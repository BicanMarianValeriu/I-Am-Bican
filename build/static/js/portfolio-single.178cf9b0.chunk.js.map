{"version":3,"sources":["components/Portfolio/Single/PrevNext.js","pages/PortfolioSingle.js"],"names":["PrevNext","context","this","props","navigation","obj","classes","arrow","label","link","slug","title","showLoader","JSON","stringify","className","join","to","renderLink","aria-label","Component","Portfolio","window","scrollTo","prevProps","location","pathname","match","params","getProjects","nextProps","selectedProject","entry","tags","getMetaTags","Fragment","id","posts","isSingle","loading","frontload","a","updateProjects","requestApi","get","then","req","data","connect","store","projects","pending","ui","_find","dispatch","bindActionCreators","frontloadConnect","onMount","onUpdate"],"mappings":"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","file":"static/js/portfolio-single.178cf9b0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport DownloadLoader from '../../General/download-loader';\r\n\r\nexport default class PrevNext extends Component {\r\n\r\n    renderLink(context) {\r\n        const { navigation = {} } = this.props;\r\n\r\n        const obj = navigation && navigation[context];\r\n\r\n        let classes = ['portfolio-prev-next__item', 'portfolio-prev-next__item--' + context];\r\n\r\n        if (obj) classes = [...classes, 'portfolio-prev-next__item--has-obj'];\r\n        else classes = [...classes, 'portfolio-prev-next__item--disabled'];\r\n\r\n        let arrow = ['fas'];\r\n        if (context === 'next') arrow = [...arrow, 'fa-arrow-right'];\r\n        if (context === 'prev') arrow = [...arrow, 'fa-arrow-left'];\r\n\r\n        const label = (context === 'prev') ? 'PREVIOUS PROJECT' : 'NEXT PROJECT';\r\n\r\n        const link = obj ? `/portfolio/${obj.slug}/` : '/';\r\n        const title = obj ? obj.title : 'Lorem ipsum dolor';\r\n\r\n        const showLoader = JSON.stringify(navigation) === '{}';\r\n\r\n        return (\r\n            <Link className={classes.join(' ')} to={link}>\r\n                <div className=\"d-flex align-items-center\">\r\n                    {context === 'prev' && <i className={arrow.join(' ')}></i>}\r\n                    <div className=\"text-right d-none d-sm-block\">\r\n                        <span className=\"portfolio-prev-next__subtitle text-color--primary\">{label}</span>\r\n                        <h4 className=\"portfolio-prev-next__title font-weight-bold mb-0\">{title}</h4>\r\n                    </div>\r\n                    {context === 'next' && <i className={arrow.join(' ')}></i>}\r\n                    {showLoader && <DownloadLoader />}\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"portfolio-prev-next\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row align-items-center justify-content-between py-4\">\r\n                        <div className=\"col-auto col-sm-4\">{this.renderLink('prev')}</div>\r\n                        <div className=\"col-auto text-center\">\r\n                            <ul className=\"portfolio-prev-next__breadcrumbs justify-content-center mb-0 list-inline\">\r\n                                <li className=\"list-inline-item\"><Link to=\"/\">Home</Link></li>\r\n                                <li className=\"list-inline-item text-muted active\">Portfolio</li>\r\n                            </ul>\r\n                            <Link to=\"/portfolio/\" className=\"portfolio-prev-next__all font-weight-bold\">\r\n                                <i className=\"fas fa-th-large mr-2\" aria-label=\"view all\"></i>\r\n                                <span>VIEW ALL</span>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"col-auto col-sm-4 text-right\">{this.renderLink('next')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { frontloadConnect } from \"react-frontload\";\r\nimport PrevNext from './../components/Portfolio/Single/PrevNext';\r\nimport _find from 'lodash/find';\r\n\r\n// Deps\r\nimport { Main } from \"../components/General\";\r\nimport { getProjects, updateProjects } from \"../redux/actions/projects\";\r\nimport { requestApi } from \"../redux/actions/api\";\r\nimport { getMetaTags } from \"../utilities/wordpress/wpPost\";\r\n\r\n// SCSS \r\nimport \"./../static/scss/pages/_portfolio-single.scss\";\r\n\r\nclass Portfolio extends Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\r\n\t\t\tconst { match: { params: { slug } }, getProjects } = this.props\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\treturn getProjects({ slug });\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (this.props.selectedProject !== nextProps.selectedProject);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { selectedProject, location: { pathname } } = this.props;\r\n\t\tconst entry = selectedProject || {};\r\n\t\tconst tags = selectedProject && getMetaTags(entry, pathname);\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet {...tags} />\r\n\t\t\t\t<div id=\"content\" className=\"content content--portfolio content--single\">\r\n\t\t\t\t\t<PrevNext {...entry} />\r\n\t\t\t\t\t<Main posts={[selectedProject]} isSingle={true} loading={!selectedProject} />\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment >\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Binds Query / Query Result\r\nconst mapStateToProps = (store, props) => {\r\n\tconst { projects, ui: { pending } } = store;\r\n\tconst { match: { params: { slug } } } = props;\r\n\tconst selectedProject = _find(projects, { slug });\r\n\r\n\treturn { selectedProject, pending };\r\n};\r\n\r\n// Connect fetchDispatch function to props.fetchDispatch\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ getProjects, updateProjects }, dispatch);\r\n\r\n// Server Side Stuff\r\nconst frontload = async props => {\r\n\tconst { match: { params: { slug } }, updateProjects } = props;\r\n\tconst data = await requestApi.get(`wp/v2/portfolios?slug=${slug}`).then(req => req.data);\r\n\treturn updateProjects(data);\r\n}\r\n\r\n// Export container while connected to store and SSR\r\nexport default connect(mapStateToProps, mapDispatchToProps)(\r\n\tfrontloadConnect(frontload, { onMount: true, onUpdate: false })(Portfolio)\r\n);\r\n"],"sourceRoot":""}