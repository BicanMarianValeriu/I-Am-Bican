{"version":3,"sources":["pages/PortfolioSingle.js"],"names":["Portfolio","window","scrollTo","prevProps","this","props","location","pathname","_this$props","slug","match","params","getProjects","nextProps","selectedProject","_this$props2","entry","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Fragment","react_facebook__WEBPACK_IMPORTED_MODULE_11__","appId","react_helmet__WEBPACK_IMPORTED_MODULE_8___default","getMetaTags","id","className","_components_General_Main__WEBPACK_IMPORTED_MODULE_14__","posts","isSingle","loading","Component","frontload","_ref","Object","C_xampp_htdocs_iambican_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_xampp_htdocs_iambican_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","updateProjects","data","wrap","_context","prev","next","requestApi","get","concat","then","req","sent","abrupt","stop","_x","apply","arguments","connect","store","projects","pending","ui","_find","dispatch","bindActionCreators","frontloadConnect","onMount","onUpdate"],"mappings":"4TAiBMA,8LAEJC,OAAOC,SAAS,EAAG,8CAGDC,GAClB,GAAIC,KAAKC,MAAMC,SAASC,WAAaJ,EAAUG,SAASC,SAAU,KAAAC,EACZJ,KAAKC,MAA/BI,EADsCD,EACzDE,MAASC,OAAUF,KAAUG,EAD4BJ,EAC5BI,YAErC,OADAX,OAAOC,SAAS,EAAG,GACZU,EAAY,CAAEH,wDAIDI,GACrB,OAAQT,KAAKC,MAAMS,kBAAoBD,EAAUC,iDAGzC,IAAAC,EAC4CX,KAAKC,MAAjDS,EADAC,EACAD,gBAA6BP,EAD7BQ,EACiBT,SAAYC,SAC/BS,EAAQF,GAAmB,GAEjC,OACCG,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACCH,EAAAC,EAAAC,cAACE,EAAA,iBAAD,CAAkBC,MAAM,mBACvBL,EAAAC,EAAAC,cAACI,EAAAL,EAAWM,YAAYR,EAAOT,IAC/BU,EAAAC,EAAAC,cAAA,OAAKM,GAAG,UAAUC,UAAU,8CAC3BT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CAAMC,MAAO,CAACd,GAAkBe,UAAU,EAAMC,SAAUhB,cA1BxCiB,aA+ClBC,EAAS,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAlB,EAAAmB,KAAG,SAAAC,EAAMjC,GAAN,IAAAI,EAAA8B,EAAAC,EAAA,OAAAJ,EAAAlB,EAAAuB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACUnC,EAA6BJ,EAAhDK,MAASC,OAAUF,KAAU8B,EAAmBlC,EAAnBkC,eADpBG,EAAAE,KAAA,EAEEC,IAAWC,IAAX,yBAAAC,OAAwCtC,IAAQuC,KAAK,SAAAC,GAAG,OAAIA,EAAIT,OAFlE,cAEXA,EAFWE,EAAAQ,KAAAR,EAAAS,OAAA,SAGVZ,EAAeC,IAHL,wBAAAE,EAAAU,SAAAd,MAAH,gBAAAe,GAAA,OAAApB,EAAAqB,MAAAlD,KAAAmD,YAAA,GAOAC,sBAnBS,SAACC,EAAOpD,GAAU,IACjCqD,EAA8BD,EAA9BC,SAAgBC,EAAcF,EAApBG,GAAMD,QACGlD,EAAaJ,EAAhCK,MAASC,OAAUF,KAG3B,MAAO,CAAEK,gBAFe+C,IAAMH,EAAU,CAAEjD,SAEhBkD,YAIA,SAAAG,GAAQ,OAAIC,YAAmB,CAAEnD,gBAAa2B,oBAAkBuB,IAU5EN,CACdQ,2BAAiBhC,EAAW,CAAEiC,SAAS,EAAMC,UAAU,GAAvDF,CAAgEhE","file":"static/js/portfolio-single.48d6833b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { FacebookProvider } from 'react-facebook';\r\nimport { frontloadConnect } from \"react-frontload\";\r\nimport _find from 'lodash/find';\r\n\r\n// Deps\r\nimport Main from \"../components/General/Main\";\r\nimport { getProjects, updateProjects } from \"../redux/actions/projects\";\r\nimport { requestApi } from \"../redux/actions/api\";\r\n\r\n// SCSS \r\nimport \"./../static/scss/pages/_portfolio-single.scss\";\r\nimport { getMetaTags } from \"../utilities/wordpress/wpPost\";\r\n\r\nclass Portfolio extends Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\r\n\t\t\tconst { match: { params: { slug } }, getProjects } = this.props\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\treturn getProjects({ slug });\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (this.props.selectedProject !== nextProps.selectedProject);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { selectedProject, location: { pathname } } = this.props;\r\n\t\tconst entry = selectedProject || {};\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<FacebookProvider appId=\"918168974866485\">\r\n\t\t\t\t\t<Helmet {...getMetaTags(entry, pathname)} />\r\n\t\t\t\t\t<div id=\"content\" className=\"content content--portfolio content--single\">\r\n\t\t\t\t\t\t<Main posts={[selectedProject]} isSingle={true} loading={!selectedProject} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FacebookProvider>\r\n\t\t\t</React.Fragment >\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Binds Query / Query Result\r\nconst mapStateToProps = (store, props) => {\r\n\tconst { projects, ui: { pending } } = store;\r\n\tconst { match: { params: { slug } } } = props;\r\n\tconst selectedProject = _find(projects, { slug });\r\n\r\n\treturn { selectedProject, pending };\r\n};\r\n\r\n// Connect fetchDispatch function to props.fetchDispatch\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ getProjects, updateProjects }, dispatch);\r\n\r\n// Server Side Stuff\r\nconst frontload = async props => {\r\n\tconst { match: { params: { slug } }, updateProjects } = props;\r\n\tconst data = await requestApi.get(`wp/v2/portfolios?slug=${slug}`).then(req => req.data);\r\n\treturn updateProjects(data);\r\n}\r\n\r\n// Export container while connected to store and SSR\r\nexport default connect(mapStateToProps, mapDispatchToProps)(\r\n\tfrontloadConnect(frontload, { onMount: true, onUpdate: false })(Portfolio)\r\n);\r\n"],"sourceRoot":""}