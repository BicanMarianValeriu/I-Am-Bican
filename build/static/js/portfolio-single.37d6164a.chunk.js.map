{"version":3,"sources":["components/Portfolio/PrevNext.js","pages/PortfolioSingle.js"],"names":["PrevNext","context","_this$props$current","this","props","current","_current$prev_next","prev_next","obj","classes","push","arrow","label","link","concat","slug","title","showLoader","JSON","stringify","react_default","a","createElement","react_router_dom","className","join","to","download_loader","renderLink","aria-label","Component","Portfolio","window","scrollTo","prevProps","location","pathname","_this$props","match","params","getProjects","nextProps","selectedProject","_this$props2","meta","yoast_meta","rendered","description","canonical","posts","filter","el","Fragment","Helmet_default","name","content","rel","href","id","PrevNext_PrevNext","Main","isSingle","frontload","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","updateProjects","data","wrap","_context","prev","next","requestApi","get","then","req","sent","abrupt","stop","_x","apply","arguments","connect","store","projects","_find","dispatch","bindActionCreators","frontloadConnect","onMount","onUpdate"],"mappings":"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","file":"static/js/portfolio-single.37d6164a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport DownloadLoader from './../General/download-loader';\r\n\r\nexport default class PrevNext extends Component {\r\n\r\n    renderLink(context) {\r\n        const { current = {} } = this.props;\r\n\r\n        const { prev_next = {} } = current;\r\n\r\n        let obj = prev_next && prev_next[context];\r\n\r\n        let classes = ['portfolio-prev-next__item', 'portfolio-prev-next__item--' + context];\r\n\r\n        if (obj) classes.push(['portfolio-prev-next__item--has-obj']);\r\n        else classes.push(['portfolio-prev-next__item--disabled']);\r\n\r\n        let arrow = ['fas'];\r\n        if (context === 'next') arrow.push(['fa-arrow-right']);\r\n        if (context === 'prev') arrow.push(['fa-arrow-left']);\r\n\r\n        let label = (context === 'prev') ? 'PREVIOUS PROJECT' : 'NEXT PROJECT';\r\n\r\n        let link = obj ? `/portfolio/${obj.slug}` : '/';\r\n        let title = obj ? obj.title : 'Lorem ipsum dolor';\r\n\r\n        let showLoader = JSON.stringify(current) === '{}' ? true : false;\r\n\r\n        return (\r\n            <Link className={classes.join(' ')} to={link}>\r\n                <div className=\"d-flex align-items-center\">\r\n                    {context === 'prev' && <i className={arrow.join(' ')}></i>}\r\n                    <div className=\"text-right d-none d-sm-block\">\r\n                        <span className=\"portfolio-prev-next__subtitle text-color--primary\">{label}</span>\r\n                        <h4 className=\"portfolio-prev-next__title font-weight-bold mb-0\">{title}</h4>\r\n                    </div>\r\n                    {context === 'next' && <i className={arrow.join(' ')}></i>}\r\n                    {showLoader && <DownloadLoader />}\r\n                </div>\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div className=\"portfolio-prev-next\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row align-items-center justify-content-between py-4\">\r\n                        <div className=\"col-auto col-sm-4\">{this.renderLink('prev')}</div>\r\n                        <div className=\"col-auto text-center\">\r\n                            <ul className=\"portfolio-prev-next__breadcrumbs justify-content-center mb-0 list-inline\">\r\n                                <li className=\"list-inline-item\"><Link to=\"/\">Home</Link></li>\r\n                                <li className=\"list-inline-item text-muted active\">Portfolio</li>\r\n                            </ul>\r\n                            <Link to=\"/portfolio\" className=\"portfolio-prev-next__all font-weight-bold\">\r\n                                <i className=\"fas fa-th-large mr-2\" aria-label=\"view all\"></i>\r\n                                <span>VIEW ALL</span>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"col-auto col-sm-4 text-right\">{this.renderLink('next')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { frontloadConnect } from \"react-frontload\";\r\nimport _find from 'lodash/find';\r\n\r\n// Deps\r\nimport PrevNext from \"../components/Portfolio/PrevNext\";\r\nimport Main from \"../components/General/Main\";\r\nimport { getProjects, updateProjects } from \"../redux/actions/projects\";\r\nimport { requestApi } from \"../redux/actions/api\";\r\n\r\n// SCSS \r\nimport \"./../static/scss/pages/_portfolio-single.scss\";\r\n\r\nclass Portfolio extends Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\r\n\t\t\tconst { match: { params: { slug } }, getProjects } = this.props\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\treturn getProjects({ slug });\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (this.props.selectedProject !== nextProps.selectedProject)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { selectedProject, location: { pathname } } = this.props;\r\n\t\tconst seoTitle = selectedProject && selectedProject.yoast_meta.title;\r\n\r\n\t\tconst meta = {\r\n\t\t\ttitle: seoTitle || (selectedProject && selectedProject.title.rendered),\r\n\t\t\tdescription: selectedProject && selectedProject.yoast_meta.description,\r\n\t\t\tcanonical: \"https://www.iambican.com\" + pathname\r\n\t\t};\r\n\r\n\t\tlet posts = [];\r\n\t\tposts.push(selectedProject);\r\n\t\tposts = posts.filter(el => el != null); // Dirty\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet\r\n\t\t\t\t\ttitle={meta.title}\r\n\t\t\t\t\tmeta={[\r\n\t\t\t\t\t\t{ name: 'theme-color', content: '#fbfbfb' },\r\n\t\t\t\t\t\tmeta.description ? { name: 'description', content: meta.description } : {}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tlink={[\r\n\t\t\t\t\t\tmeta.canonical ? { rel: 'canonical', href: meta.canonical } : {}\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"content\" className=\"content content--portfolio content--single\">\r\n\t\t\t\t\t<PrevNext current={selectedProject} />\r\n\t\t\t\t\t<Main posts={posts} isSingle={true} />\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment >\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Binds Query / Query Result\r\nconst mapStateToProps = (store, props) => {\r\n\tconst { projects } = store;\r\n\tconst { match: { params: { slug } } } = props;\r\n\tconst selectedProject = _find(projects, { slug });\r\n\r\n\treturn { selectedProject };\r\n};\r\n\r\n// Connect fetchDispatch function to props.fetchDispatch\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ getProjects, updateProjects }, dispatch);\r\n\r\n// Server Side Stuff\r\nconst frontload = async props => {\r\n\tconst { match: { params: { slug } }, updateProjects } = props;\r\n\tconst data = await requestApi.get(`wp/v2/portfolios?slug=${slug}`).then(req => req.data);\r\n\treturn updateProjects(data);\r\n}\r\n\r\n// Export container while connected to store and SSR\r\nexport default connect(mapStateToProps, mapDispatchToProps)(\r\n\tfrontloadConnect(frontload, { onMount: true, onUpdate: false })(Portfolio)\r\n);\r\n"],"sourceRoot":""}