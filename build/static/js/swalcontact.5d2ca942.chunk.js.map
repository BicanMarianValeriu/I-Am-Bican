{"version":3,"sources":["functions/wpcf7.js","components/popups/swal-contact.js"],"names":["WPCF7","el","options","Object","classCallCheck","this","document","querySelector","merge","defaults","apiUrl","path","getApiUrl","replace","id","formId","getAttribute","split","pop","parseInt","formData","FormData","url","getRoute","getFormId","axios","post","data","then","result","SwalContact","renderModal","swal","title","html","footer","focusConfirm","customClass","confirmButtonText","showLoaderOnConfirm","showCloseButton","onClose","window","location","hash","width","preConfirm","fields","forms","getElementsByClassName","email","value","validateFields","showValidationMessage","validateEmail","sendMail","status","text","message","type","allowOutsideClick","isLoading","dismiss","showConfirmButton","allowEscapeKey"],"mappings":"sLA6CeA,aAnCd,SAAAA,EAAYC,EAAIC,GAAUC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GACzBK,KAAKJ,GAAKK,SAASC,cAAcN,GACjCI,KAAKJ,GAAGD,MAAQK,KAChBA,KAAKH,QAAUM,gBAAM,GAAIR,EAAMS,SAAUP,2DAWzC,OAAOG,KAAKH,QAAQQ,wCAGZC,GAGR,OADUN,KAAKO,YACJC,QAFK,wCAE0BF,uCAI1C,IAAIG,EAAKT,KAAKH,QAAQa,QAAUV,KAAKJ,GAAGe,aAAa,oBAAsBX,KAAKJ,GAAGe,aAAa,MAAMC,MAAM,KAAKC,MACjH,OAAOC,SAASL,EAAI,8JAIhBM,EAAW,IAAIC,SAAShB,KAAKJ,IAC7BqB,EAAMjB,KAAKkB,SAAS,kBAAoBlB,KAAKmB,YAAc,sBAClDC,IAAMC,KAAKJ,EAAK,CAAEK,KAAMP,IAAYQ,KAAK,SAAAC,GAAM,OAAIA,EAAOF,oLAxBvE,MAAO,CACNjB,OAAQ,iEACRK,OAAQ,qBCdLe,EAAc,CAEhBC,YAAa,WAoET,OAnEcC,IAAK,CACfC,MAAO,6CACPC,KAAI,g+BAkBJC,OAAM,uEACNC,cAAc,EACdC,YAAa,eACbC,kBAAmB,eACnBC,qBAAqB,EACrBC,iBAAiB,EACjBC,QAAS,kBAAMC,OAAOC,SAASC,KAAO,IACtCC,MAAO,QACPC,WAAY,WACR,IAAIC,EAASzC,SAAS0C,MAAM,gBAAgBC,uBAAuB,YAC/DC,EAAQH,EAAO,cAAcI,MAEjC,OAA+B,IAA3BC,YAAeL,GAA0Bf,IAAKqB,sBAAL,4BAEhB,IAAzBC,YAAcJ,GAAyBlB,IAAKqB,sBAAL,oCAE9B,IAAIrD,EAAM,WAAY,CAC/BU,OAAQ,gEAEP6C,WAAW3B,KAAK,SAAAC,GACK,cAAlBA,EAAO2B,OACPxB,IAAK,CACDC,MAAK,UACLwB,KAAM5B,EAAO6B,QACbC,KAAM,YAGV3B,IAAK,CACDC,MAAK,qBACLwB,KAAM5B,EAAO6B,QACbC,KAAM,aAKtBC,kBAAmB,kBAAO5B,IAAK6B,eAChCjC,KAAK,SAAAC,GACAA,EAAOiC,SACX9B,IAAK,CACDC,MAAK,kCACL0B,KAAM,OACNI,mBAAmB,EACnBC,gBAAgB,EAChBJ,mBAAmB,QAQpB9B","file":"static/js/swalcontact.5d2ca942.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { merge } from \"lodash\";\r\n\r\nclass WPCF7 {\r\n\t/**\r\n\t * Construct Animate instance\r\n\t * @constructor\r\n\t * @param {Element} el\r\n\t * @param {Object} options\r\n\t */\r\n\tconstructor(el, options) {\r\n\t\tthis.el = document.querySelector(el);\r\n\t\tthis.el.WPCF7 = this;\r\n\t\tthis.options = merge({}, WPCF7.defaults, options);\r\n\t}\r\n\r\n\tstatic get defaults() {\r\n\t\treturn {\r\n\t\t\tapiUrl: 'http://working.on/iambican/wordpress/wp-json/contact-form-7/v1',\r\n\t\t\tformId: ''\r\n\t\t};\r\n\t}\r\n\r\n\tgetApiUrl() {\r\n\t\treturn this.options.apiUrl;\r\n\t}\r\n\r\n\tgetRoute(path) {\r\n\t\tlet namespace = 'contact-form-7/v1';\r\n\t\tlet url = this.getApiUrl();\r\n\t\treturn url.replace(namespace, namespace + path);\r\n\t}\r\n\r\n\tgetFormId() {\r\n\t\tlet id = this.options.formId || this.el.getAttribute('data-wpcf7-form') || this.el.getAttribute('id').split('-').pop()\r\n\t\treturn parseInt(id, 10);\r\n\t}\r\n\r\n\tasync sendMail() {\r\n\t\tlet formData = new FormData(this.el);\r\n\t\tlet url = this.getRoute('/contact-forms/' + this.getFormId() + '/feedback')\r\n\t\treturn await axios.post(url, { data: formData }).then(result => result.data);\r\n\t}\r\n};\r\n\r\nexport default WPCF7;","// Deps\r\nimport swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport WPCF7 from './../../functions/wpcf7'; \r\nimport { validateEmail, validateFields } from './../../functions/helpers';\r\n\r\nconst SwalContact = {\r\n\r\n    renderModal: function () {\r\n        const alert = swal({\r\n            title: 'Thanks for your interest in contacting me!',\r\n            html: `<form name=\"swal-contact\" id=\"wpcf7-6\" data-wpcf7-form=\"6\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-name\">\r\n                        <input id=\"swal-input1\" class=\"swal2-input required\" name=\"your-name\" type=\"text\" placeholder=\"Your Name\" required/>\r\n                    </span>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <span class=\"wpcf7-form-control-wrap your-email\">\r\n                        <input id=\"swal-input2\" class=\"swal2-input required\" name=\"your-email\" type=\"email\" placeholder=\"Your Email\" required/>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <textarea id=\"swal-input3\" class=\"swal2-textarea required\" name=\"your-message\" placeholder=\"Your Message\" required></textarea>\r\n                </div>\r\n            </div></form>`,\r\n            footer: `View your privacy policy &nbsp;<a href=\"/p/privacy-policy\">here</a>.`,\r\n            focusConfirm: false,\r\n            customClass: 'swal-contact',\r\n            confirmButtonText: 'Send Message', \r\n            showLoaderOnConfirm: true,\r\n            showCloseButton: true,\r\n            onClose: () => window.location.hash = '',\r\n            width: '45rem',\r\n            preConfirm: () => {\r\n                var fields = document.forms[\"swal-contact\"].getElementsByClassName(\"required\");\r\n                var email = fields['your-email'].value;\r\n\r\n                if (validateFields(fields) === false) return swal.showValidationMessage(`Please fill all fields.`);\r\n\r\n                if (validateEmail(email) === false) return swal.showValidationMessage(`Email address is not valid.`);\r\n\r\n                const WPCF = new WPCF7('#wpcf7-6', {\r\n                    apiUrl: 'http://www.iambican.com/dashboard/wp-json/contact-form-7/v1'\r\n                }); \r\n                WPCF.sendMail().then(result => {  \r\n                    if (result.status === 'mail_sent') {\r\n                        swal({\r\n                            title: `Awesome`,\r\n                            text: result.message,\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        swal({\r\n                            title: `Something is wrong`,\r\n                            text: result.message,\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            allowOutsideClick: () => !swal.isLoading()\r\n        }).then(result => {\r\n            if (result.dismiss) return;\r\n            swal({\r\n                title: `Sending message, please wait...`,\r\n                type: 'info',\r\n                showConfirmButton: false,\r\n                allowEscapeKey: false,\r\n                allowOutsideClick: false\r\n            });\r\n        });\r\n\r\n        return alert;\r\n    }\r\n};\r\n\r\nexport default SwalContact;"],"sourceRoot":""}