{"version":3,"sources":["components/Popups/swal-auth.js"],"names":["SwalToast","Swal","mixin","toast","position","showConfirmButton","timer","SwalCheckCredentials","fire","title","type","allowEscapeKey","allowOutsideClick","SwalInvalidCredentials","afterValidation","html","buttonsStyling","showCloseButton","showCancelButton","focusCancel","customClass","cancelButton","cancelButtonText","then","result","dismiss","DismissReason","cancel","SwalAuth","titleText","footer","popup","confirmButton","confirmButtonText","showLoaderOnConfirm","backdrop","width","preConfirm","fields","document","forms","getElementsByClassName","username","value","password","validateFields","showValidationMessage","isLoading"],"mappings":"sHAAA,mOAMMA,EAAYC,IAAKC,MAAM,CAC5BC,OAAO,EACPC,SAAU,UACVC,mBAAmB,EACnBC,MAAO,MAMFC,EAAuB,WAC5B,OAAON,IAAKO,KAAK,CAChBC,MAAM,mCACNC,KAAM,WACNL,mBAAmB,EACnBM,gBAAgB,EAChBC,mBAAmB,KAUfC,EAAyB,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBACjC,OAAOb,IAAKO,KAAK,CAChBC,MAAM,wBACNM,KAAK,6BACLL,KAAM,QACNM,gBAAgB,EAChBX,mBAAmB,EACnBY,iBAAiB,EACjBC,kBAAkB,EAClBC,aAAa,EACbC,YAAa,CACZC,aAAc,mBAEfC,iBAAkB,cAChBC,MAAK,SAAAC,GAEP,GAAIA,EAAOC,UAAYxB,IAAKyB,cAAcC,OACzC,OAAOC,EAAS,CAAEd,wBAKfc,EAAW,SAAC,GAAyB,IAAvBd,EAAsB,EAAtBA,gBACnBb,IAAKO,KAAK,CACTqB,UAAW,QACXd,KAAK,0/CA4BLe,OAAO,+FACPV,YAAa,CACZW,MAAO,oBACPC,cAAe,6CAEhBhB,gBAAgB,EAChBiB,kBAAmB,4DACnBC,qBAAqB,EACrBC,SAAS,kBACTlB,iBAAiB,EACjBmB,MAAO,QACPC,WAAY,WACX,IAAMC,EAASC,SAASC,MAAM,cAAcC,uBAAuB,YACxCC,EAA8CJ,EAAjEI,SAAYC,MAAsCC,EAAeN,EAAlCM,SAAYD,MAEnD,OAA+B,IAA3BE,YAAeP,GACXrC,IAAK6C,sBAAL,2BAIDhC,EAAgB,CAAE4B,WAAUE,cAEpChC,kBAAmB,kBAAOX,IAAK8C,eAC7BxB,MAAK,SAAAC,GACP,IAAKA,EAAOC,QACX,OAAOlB","file":"static/js/swal-auth.40b25b91.chunk.js","sourcesContent":["import Swal from \"sweetalert2/dist/sweetalert2.js\";\r\nimport { validateFields } from \"../../utilities/helpers\";\r\n\r\n/**\r\n * Toast Mixin\r\n */\r\nconst SwalToast = Swal.mixin({\r\n\ttoast: true,\r\n\tposition: \"top-end\",\r\n\tshowConfirmButton: false,\r\n\ttimer: 3000\r\n});\r\n\r\n/**\r\n * Checking Credentials\r\n */\r\nconst SwalCheckCredentials = () => {\r\n\treturn Swal.fire({\r\n\t\ttitle: `Checking details, please wait...`,\r\n\t\ttype: 'question',\r\n\t\tshowConfirmButton: false,\r\n\t\tallowEscapeKey: false,\r\n\t\tallowOutsideClick: false,\r\n\t})\r\n}\r\n\r\n/**\r\n * Render Invalid Credentials Modal\r\n * @param \t{ object } \tprops - Contains the functions passed from the login component\r\n * @todo\tError Message From API\r\n * @return \tSWAL\r\n */\r\nconst SwalInvalidCredentials = ({ afterValidation }) => {\r\n\treturn Swal.fire({\r\n\t\ttitle: `Something went wrong.`,\r\n\t\thtml: `Invalid login credentials.`,\r\n\t\ttype: \"error\",\r\n\t\tbuttonsStyling: false,\r\n\t\tshowConfirmButton: false,\r\n\t\tshowCloseButton: true,\r\n\t\tshowCancelButton: true,\r\n\t\tfocusCancel: true,\r\n\t\tcustomClass: {\r\n\t\t\tcancelButton: 'btn btn-primary'\r\n\t\t},\r\n\t\tcancelButtonText: \"Try Again\"\r\n\t}).then(result => {\r\n\t\t// Passing Props Back to Login if Try Again is Clicked\r\n\t\tif (result.dismiss === Swal.DismissReason.cancel) {\r\n\t\t\treturn SwalAuth({ afterValidation });\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst SwalAuth = ({ afterValidation }) => {\r\n\tSwal.fire({\r\n\t\ttitleText: 'Login',\r\n\t\thtml: `\r\n\t\t<form name=\"swal-login\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"input-group mb-3\">\r\n                        <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\" id=\"basic-addon1\"><i class=\"fas fa-user fa-fw\"></i></span>\r\n                        </div>\r\n                        <input class=\"form-control required\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" name=\"username\" type=\"text\" placeholder=\"Your Username\" required/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"input-group mb-3\">\r\n                        <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\" id=\"basic-addon2\"><i class=\"fas fa-key fa-fw\"></i></span>\r\n                        </div> \r\n                        <input class=\"form-control required\" aria-label=\"Password\" aria-describedby=\"basic-addon2\" name=\"password\" type=\"password\" placeholder=\"Your Password\" required/>      \r\n                    </div>\r\n                </div> \r\n                <div class=\"col-12\">\r\n                    <div class=\"row\"> \r\n                        <div class=\"col-12 text-right\">\r\n                            <span><a href=\"javascript:void(0);\" class=\"swal-login__forgot-pwd\"><small>Forgot Password?</small></a></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\t\t\t</div>\r\n\t\t</form>`,\r\n\t\tfooter: `<small><em>View your privacy policy &nbsp;<a href=\"/p/privacy-policy\">here</a>.</em></small>`,\r\n\t\tcustomClass: {\r\n\t\t\tpopup: 'swal2-popup--auth',\r\n\t\t\tconfirmButton: 'btn btn-primary d-flex align-items-center'\r\n\t\t},\r\n\t\tbuttonsStyling: false,\r\n\t\tconfirmButtonText: '<i class=\"fas fa-sign-in-alt mr-2\"></i><span>Login</span>',\r\n\t\tshowLoaderOnConfirm: true,\r\n\t\tbackdrop: `rgba(0,0,0,0.5)`,\r\n\t\tshowCloseButton: true,\r\n\t\twidth: \"35rem\",\r\n\t\tpreConfirm: () => {\r\n\t\t\tconst fields = document.forms[\"swal-login\"].getElementsByClassName(\"required\");\r\n\t\t\tconst { username: { value: username }, password: { value: password } } = fields;\r\n\r\n\t\t\tif (validateFields(fields) === false) {\r\n\t\t\t\treturn Swal.showValidationMessage(`Please fill all fields.`);\r\n\t\t\t}\r\n\r\n\t\t\t// Atempt to get token if validation is done\r\n\t\t\treturn afterValidation({ username, password });\r\n\t\t},\r\n\t\tallowOutsideClick: () => !Swal.isLoading()\r\n\t}).then(result => {\r\n\t\tif (!result.dismiss) {\r\n\t\t\treturn SwalCheckCredentials();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport { SwalToast, SwalAuth, SwalCheckCredentials, SwalInvalidCredentials };\r\n"],"sourceRoot":""}