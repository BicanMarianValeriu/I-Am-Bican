{"version":3,"sources":["api/wpcf7.js","components/Popups/swal-contact.js"],"names":["WPCF7","el","options","Object","classCallCheck","this","document","querySelector","merge","defaults","apiUrl","path","getApiUrl","replace","id","formId","getAttribute","split","pop","parseInt","formData","FormData","url","getRoute","getFormId","axios","post","data","then","result","SwalContact","renderModal","Swal","fire","title","html","footer","focusConfirm","customClass","buttonsStyling","confirmButtonClass","confirmButtonText","showLoaderOnConfirm","showCloseButton","width","preConfirm","fields","forms","getElementsByClassName","email","value","validateFields","showValidationMessage","validateEmail","sendMail","status","text","message","type","allowOutsideClick","isLoading","dismiss","showConfirmButton","allowEscapeKey"],"mappings":"sLAgDeA,aAtCd,SAAAA,EAAYC,EAAIC,GAAUC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GACzBK,KAAKJ,GAAKK,SAASC,cAAcN,GACjCI,KAAKJ,GAAGD,MAAQK,KAChBA,KAAKH,QAAUM,gBAAM,GAAIR,EAAMS,SAAUP,2DAWzC,OAAOG,KAAKH,QAAQQ,wCAGZC,GAGR,OADUN,KAAKO,YACJC,QAFK,wCAE0BF,uCAI1C,IAAIG,EACHT,KAAKH,QAAQa,QACbV,KAAKJ,GAAGe,aAAa,oBACrBX,KAAKJ,GAAGe,aAAa,MAAMC,MAAM,KAAKC,MACvC,OAAOC,SAASL,EAAI,8JAIhBM,EAAW,IAAIC,SAAShB,KAAKJ,IAC7BqB,EAAMjB,KAAKkB,SAAS,kBAAoBlB,KAAKmB,YAAc,sBAClDC,IAAMC,KAAKJ,EAAK,CAAEK,KAAMP,IAAYQ,KAAK,SAAAC,GAAM,OAAIA,EAAOF,oLA3BvE,MAAO,CACNjB,OAAQ,iEACRK,OAAQ,qBCdLe,EAAc,CACnBC,YAAa,WA8EZ,OA7EcC,IAAKC,KAAK,CACvBC,MAAO,6CACPC,KAAI,o9BAuBJC,OAAM,uEACNC,cAAc,EACdC,YAAa,eACbC,gBAAgB,EAChBC,mBAAoB,kBACpBC,kBAAmB,eACnBC,qBAAqB,EACrBC,iBAAiB,EACjBC,MAAO,QACPC,WAAY,WACX,IAAIC,EAASxC,SAASyC,MAAM,gBAAgBC,uBAC3C,YAEGC,EAAQH,EAAO,cAAcI,MAEjC,OAA+B,IAA3BC,YAAeL,GACXd,IAAKoB,sBAAL,4BAEqB,IAAzBC,YAAcJ,GACVjB,IAAKoB,sBAAL,oCAEK,IAAIpD,EAAM,WAAY,CAClCU,OAAQ,gEAEJ4C,WAAW1B,KAAK,SAAAC,GACE,cAAlBA,EAAO0B,OACVvB,IAAKC,KAAK,CACTC,MAAK,UACLsB,KAAM3B,EAAO4B,QACbC,KAAM,YAGP1B,IAAKC,KAAK,CACTC,MAAK,qBACLsB,KAAM3B,EAAO4B,QACbC,KAAM,aAKVC,kBAAmB,kBAAO3B,IAAK4B,eAC7BhC,KAAK,SAAAC,GACHA,EAAOgC,SACX7B,IAAKC,KAAK,CACTC,MAAK,kCACLwB,KAAM,OACNI,mBAAmB,EACnBC,gBAAgB,EAChBJ,mBAAmB,QAQR7B","file":"static/js/swalcontact.475c132d.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { merge } from \"lodash\";\r\n\r\nclass WPCF7 {\r\n\t/**\r\n\t * Construct Animate instance\r\n\t * @constructor\r\n\t * @param {Element} el\r\n\t * @param {Object} options\r\n\t */\r\n\tconstructor(el, options) {\r\n\t\tthis.el = document.querySelector(el);\r\n\t\tthis.el.WPCF7 = this;\r\n\t\tthis.options = merge({}, WPCF7.defaults, options);\r\n\t}\r\n\r\n\tstatic get defaults() {\r\n\t\treturn {\r\n\t\t\tapiUrl: \"http://working.on/iambican/wordpress/wp-json/contact-form-7/v1\",\r\n\t\t\tformId: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tgetApiUrl() {\r\n\t\treturn this.options.apiUrl;\r\n\t}\r\n\r\n\tgetRoute(path) {\r\n\t\tlet namespace = \"contact-form-7/v1\";\r\n\t\tlet url = this.getApiUrl();\r\n\t\treturn url.replace(namespace, namespace + path);\r\n\t}\r\n\r\n\tgetFormId() {\r\n\t\tlet id =\r\n\t\t\tthis.options.formId ||\r\n\t\t\tthis.el.getAttribute(\"data-wpcf7-form\") ||\r\n\t\t\tthis.el.getAttribute(\"id\").split(\"-\").pop();\r\n\t\treturn parseInt(id, 10);\r\n\t}\r\n\r\n\tasync sendMail() {\r\n\t\tlet formData = new FormData(this.el);\r\n\t\tlet url = this.getRoute(\"/contact-forms/\" + this.getFormId() + \"/feedback\");\r\n\t\treturn await axios.post(url, { data: formData }).then(result => result.data);\r\n\t}\r\n}\r\n\r\nexport default WPCF7;\r\n","// Deps\r\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\r\nimport WPCF7 from \"./../../api/wpcf7\";\r\nimport { validateEmail, validateFields } from \"./../../utilities/helpers\"; \r\n\r\nconst SwalContact = {\r\n\trenderModal: function () {\r\n\t\tconst alert = Swal.fire({\r\n\t\t\ttitle: \"Thanks for your interest in contacting me!\",\r\n\t\t\thtml: `<form name=\"swal-contact\" id=\"wpcf7-6\" data-wpcf7-form=\"6\">\r\n\t\t\t<div class=\"form-group\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t<span class=\"wpcf7-form-control-wrap your-name\">\r\n\t\t\t\t\t\t\t<input id=\"swal-input1\" class=\"form-control required\" name=\"your-name\" type=\"text\" placeholder=\"Your Name\" required/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t<span class=\"wpcf7-form-control-wrap your-email\">\r\n\t\t\t\t\t\t\t<input id=\"swal-input2\" class=\"form-control required\" name=\"your-email\" type=\"email\" placeholder=\"Your Email\" required/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-group\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<textarea id=\"swal-input3\" class=\"form-control required\" name=\"your-message\" placeholder=\"Your Message\" required></textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</form>`,\r\n\t\t\tfooter: `View your privacy policy &nbsp;<a href=\"/p/privacy-policy\">here</a>.`,\r\n\t\t\tfocusConfirm: false,\r\n\t\t\tcustomClass: \"swal-contact\",\r\n\t\t\tbuttonsStyling: false,\r\n\t\t\tconfirmButtonClass: 'btn btn-primary',\r\n\t\t\tconfirmButtonText: \"Send Message\",\r\n\t\t\tshowLoaderOnConfirm: true,\r\n\t\t\tshowCloseButton: true, \r\n\t\t\twidth: \"40rem\",\r\n\t\t\tpreConfirm: () => {\r\n\t\t\t\tvar fields = document.forms[\"swal-contact\"].getElementsByClassName(\r\n\t\t\t\t\t\"required\"\r\n\t\t\t\t);\r\n\t\t\t\tvar email = fields[\"your-email\"].value;\r\n\r\n\t\t\t\tif (validateFields(fields) === false)\r\n\t\t\t\t\treturn Swal.showValidationMessage(`Please fill all fields.`);\r\n\r\n\t\t\t\tif (validateEmail(email) === false)\r\n\t\t\t\t\treturn Swal.showValidationMessage(`Email address is not valid.`);\r\n\r\n\t\t\t\tconst WPCF = new WPCF7(\"#wpcf7-6\", {\r\n\t\t\t\t\tapiUrl: \"http://www.iambican.com/dashboard/wp-json/contact-form-7/v1\"\r\n\t\t\t\t});\r\n\t\t\t\tWPCF.sendMail().then(result => {\r\n\t\t\t\t\tif (result.status === \"mail_sent\") {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\ttitle: `Awesome`,\r\n\t\t\t\t\t\t\ttext: result.message,\r\n\t\t\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\ttitle: `Something is wrong`,\r\n\t\t\t\t\t\t\ttext: result.message,\r\n\t\t\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tallowOutsideClick: () => !Swal.isLoading()\r\n\t\t}).then(result => {\r\n\t\t\tif (result.dismiss) return;\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: `Sending message, please wait...`,\r\n\t\t\t\ttype: \"info\",\r\n\t\t\t\tshowConfirmButton: false,\r\n\t\t\t\tallowEscapeKey: false,\r\n\t\t\t\tallowOutsideClick: false\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn alert;\r\n\t}\r\n};\r\n\r\nexport default SwalContact;\r\n"],"sourceRoot":""}