{"version":3,"sources":["pages/Page.js"],"names":["Page","window","scrollTo","prevProps","location","pathname","this","props","slug","match","params","getPage","nextProps","selectedPage","title","pageTitle","rendered","tags","getMetaTags","id","className","posts","isSingle","loading","Component","frontload","a","PageConnect","frontloadConnect","onMount","onUpdate","connect","store","pages","_find","dispatch","bindActionCreators"],"mappings":"kRAYMA,E,kLAEJC,OAAOC,SAAS,EAAG,K,yCAGDC,GAClB,GAAIA,EAAUC,SAASC,WAAaC,KAAKC,MAAMH,SAASC,SAAU,CAAC,IAAD,EAChBC,KAAKC,MAA3BC,EADsC,EACzDC,MAASC,OAAUF,KAAUG,EAD4B,EAC5BA,QAErC,OADAV,OAAOC,SAAS,EAAG,GACZS,EAAQH,M,4CAIKI,GACrB,OAAQA,EAAUC,eAAiBP,KAAKC,MAAMM,e,+BAGrC,IAAD,EACyCP,KAAKC,MAA9CM,EADA,EACAA,aAA0BR,EAD1B,EACcD,SAAYC,SAD1B,GAEwCQ,GAAgB,IAAxDC,MAAmBC,GAFnB,aAEiC,GAFjC,GAESC,SACXC,EAAOJ,GAAgBK,YAAYL,EAAcR,GACvD,OACC,kBAAC,WAAD,KACC,kBAAC,IAAWY,GACZ,yBAAKE,GAAG,UAAUC,UAAU,yCAC3B,kBAAC,IAAD,CAAWN,MAAOC,IAClB,yBAAKK,UAAU,aACd,kBAAC,IAAD,CAAMC,MAAO,CAACR,GAAeO,UAAU,eAAeE,UAAU,EAAMC,SAAUV,W,GA3BnEW,aAgDbC,EAAS,uCAAG,+BAAAC,EAAA,6DAA4BlB,EAA5B,EAASC,MAASC,OAAUF,KAAUG,EAAtC,EAAsCA,QAAtC,SAA0DA,EAAQH,GAAlE,mFAAH,sDAGTmB,EAAcC,2BAAiBH,EAAW,CAAEI,SAAS,EAAMC,UAAU,GAAvDF,CAAgE5B,GAGrE+B,uBAlBS,SAACC,EAAOzB,GAAW,IAClC0B,EAAUD,EAAVC,MACmBzB,EAAaD,EAAhCE,MAASC,OAAUF,KAG3B,MAAQ,CAAEK,aAFWqB,IAAMD,EAAO,CAAEzB,aAMV,SAAA2B,GAAQ,OAAIC,YAAmB,CAAEzB,aAAWwB,KASxDJ,CAA6CJ","file":"static/js/page.5f626eed.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { frontloadConnect } from 'react-frontload';\r\nimport { Helmet } from 'react-helmet';\r\nimport _find from 'lodash/find';\r\n\r\n// Deps\r\nimport { PageIntro, Main } from '../components/General';\r\nimport { getPage } from '../redux/actions/pages';\r\nimport { getMetaTags } from '../utilities/wordpress/wpPost';\r\n\r\nclass Page extends Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.location.pathname !== this.props.location.pathname) {\r\n\t\t\tconst { match: { params: { slug } }, getPage } = this.props;\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\treturn getPage(slug);\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (nextProps.selectedPage !== this.props.selectedPage);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { selectedPage, location: { pathname } } = this.props;\r\n\t\tconst { title: { rendered: pageTitle } = {} } = selectedPage || {};\r\n\t\tconst tags = selectedPage && getMetaTags(selectedPage, pathname);\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Helmet {...tags} />\r\n\t\t\t\t<div id=\"content\" className=\"content content--page content--single\">\r\n\t\t\t\t\t<PageIntro title={pageTitle} />\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Main posts={[selectedPage]} className=\"py-3 py-md-5\" isSingle={true} loading={!selectedPage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// Binds menu items to navigation container\r\nconst mapStateToProps = (store, props) => {\r\n\tconst { pages } = store;\r\n\tconst { match: { params: { slug } } } = props;\r\n\tconst selectedPage = _find(pages, { slug });\r\n\r\n\treturn ({ selectedPage });\r\n};\r\n\r\n// mapDispatchToProps -> getPage\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ getPage }, dispatch);\r\n\r\n// Server Side Stuff\r\nconst frontload = async ({ match: { params: { slug } }, getPage }) => await getPage(slug);\r\n\r\n// Connect to Frontload SSR\r\nconst PageConnect = frontloadConnect(frontload, { onMount: true, onUpdate: false })(Page);\r\n\r\n// Export container while connected to store with frontload\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PageConnect);\r\n"],"sourceRoot":""}